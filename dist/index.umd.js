(function(p,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(p=typeof globalThis<"u"?globalThis:p||self,e(p.MyLib={},p.Vue))})(this,(function(p,e){"use strict";const S=["hover-class","disabled"],b={name:"SeeButton"},D=e.defineComponent({...b,props:{title:{default:""},size:{default:"normal"},type:{default:"info"},color:{default:""},textColor:{default:""},isRipple:{type:Boolean,default:!1},rippleTime:{default:500},maskTime:{default:1e3},isHollow:{type:Boolean,default:!1},rippleColor:{default:"rgba(0, 0, 0, .15)"},rippleStyle:{default:null},customStyle:{default:null},hoverClass:{default:""},border:{default:1},isDisabled:{type:Boolean,default:!1},radius:{default:4}},emits:["onTap"],setup(l,{emit:r}){let t=0;const n=e.getCurrentInstance(),o=l;t++;const s=e.ref(0),c=e.ref(0),a=e.ref(!1),m=e.ref({}),g="seeButton_"+t;let H=0;const I=e.ref([]),V=e.computed(()=>o.isRipple?"none":o.hoverClass?o.hoverClass:o.isHollow?`button-hover-${o.type}-hollow`:`button-hover-${o.type}`),C=u=>{a.value=!1,e.nextTick(()=>W(u))},W=u=>{L().then(i=>{if(!i?.height||(i.finalWidth=i.height>i.width?i.height:i.width,!i.finalWidth))return;m.value=i;let f,d;f=u.changedTouches[0].clientX,d=u.changedTouches[0].clientY,f=u.detail.clientX,d=u.detail.clientY,f=u.touches[0].clientX,d=u.touches[0].clientY,s.value=d-i.top-i.finalWidth/2,c.value=f-i.left-i.finalWidth/2,e.nextTick(()=>a.value=!0),I.value.push({id:H++,x:f-i.left-i.finalWidth/2,y:d-i.top-i.finalWidth/2,size:i.finalWidth})})},L=()=>new Promise(u=>{const i=uni.createSelectorQuery().in(n),f="#"+g;i.select(f).boundingClientRect(d=>{u(d)}).exec()});return(u,i)=>(e.openBlock(),e.createElementBlock("view",{id:g,style:e.normalizeStyle({...o.customStyle,borderRadius:o.radius+"px"}),class:e.normalizeClass(["see-button",[o.size]]),onClick:i[1]||(i[1]=f=>C(f))},[e.createElementVNode("view",{id:g,style:e.normalizeStyle({...o.customStyle,borderRadius:o.radius+"px"}),class:e.normalizeClass(["see-button",[o.size]]),onTouchstart:i[0]||(i[0]=f=>C(f))},[e.createElementVNode("button",{style:e.normalizeStyle({...o.customStyle,borderRadius:o.radius+"px",background:o.color}),class:e.normalizeClass(["see-botton-class",[o.size,o.isDisabled&&`disabled-${o.type}`,o.isHollow?`hollow-${o.type}`:o.type,`border-${o.type}-${o.border??1}`]]),"hover-class":V.value,disabled:o.isDisabled},[e.createElementVNode("text",{style:e.normalizeStyle({color:o.textColor}),class:"title"},e.toDisplayString(o.title),5),e.renderSlot(u.$slots,"default",{},void 0,!0)],14,S),o.isRipple?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["see-button-ripple",{active:a.value}]),style:e.normalizeStyle({...o.rippleStyle,top:s.value+"px",left:c.value+"px",width:m.value.finalWidth+"px",height:m.value.finalWidth+"px","background-color":l.rippleColor,"--ripple-time":o.rippleTime+"ms","--mask-time":o.maskTime+"ms"})},null,6)):e.createCommentVNode("",!0)],38)],6))}}),h=(l,r)=>{const t=l.__vccOpts||l;for(const[n,o]of r)t[n]=o;return t},x=h(D,[["__scopeId","data-v-8ca01f32"]]),_={name:"SeeLink"},w=e.defineComponent({..._,props:{text:{default:""},type:{default:"info"},color:{default:""},href:{default:""},isLine:{type:Boolean,default:!1},lineColor:{default:""}},emits:["onClick"],setup(l,{emit:r}){const t=l,n=r,o=e.computed(()=>{const a=[];return t.color||a.push(t.type),t.isLine&&a.push("href"),a.join(" ")}),s=e.computed(()=>{const a={};return t.color&&(a.color=t.color),t.isLine&&t.lineColor&&(a.borderBottomColor=t.lineColor),a}),c=()=>{n("onClick"),(t.href??"")&&(plus.runtime.openURL(t.href),window.open(t.href),uni.setClipboardData({data:t.href,success:()=>{uni.hideToast(),e.nextTick(()=>{uni.showToast({title:"链接已复制，请在浏览器打开",icon:"none"})})}}))};return(a,m)=>(e.openBlock(),e.createElementBlock("text",{class:e.normalizeClass(o.value),style:e.normalizeStyle(s.value),onClick:c},e.toDisplayString(t.text),7))}}),y=h(w,[["__scopeId","data-v-e96ac451"]]);function B(l){if(l==null)return null;if(l instanceof Date)return l;if(typeof l=="number")return new Date(l);if(typeof l=="string"){if(/^\d+$/.test(l))return new Date(parseInt(l));const r=l.replace(/-/g,"/");return new Date(r)}return null}function z(l,r="YYYY-MM-DD HH:mm:ss",t={placeholder:""}){const n=B(l);if(!n||isNaN(n.getTime()))return t.placeholder||"";const o={"M+":n.getMonth()+1,"D+":n.getDate(),"H+":n.getHours(),"h+":n.getHours()%12===0?12:n.getHours()%12,"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),"S+":n.getMilliseconds()};if(/(Y+|y+)/.test(r)&&(r=r.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),/(W+)/.test(r)){const s=["日","一","二","三","四","五","六"];r=r.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+s[n.getDay()])}for(const s in o)if(new RegExp("("+s+")").test(r)){const c=o[s].toString();s==="S+"?r=r.replace(RegExp.$1,("000"+c).slice(-3)):r=r.replace(RegExp.$1,RegExp.$1.length===1?c:("00"+c).substr((""+c).length))}return r}function T(l){return l?l instanceof Date?l:typeof l=="number"?new Date(l):typeof l=="string"?/^\d+$/.test(l)?new Date(parseInt(l)):new Date(l.replace(/-/g,"/")):null:null}function N(l){const r=T(l);if(!r)return"";const n=(Date.now()-r.getTime())/1e3;return n<0?"刚刚":n<60?Math.floor(n)+"秒前":n<3600?Math.floor(n/60)+"分钟前":n<3600*24?Math.floor(n/3600)+"小时前":n<3600*24*7?Math.floor(n/(3600*24))+"天前":n<3600*24*30?Math.floor(n/(3600*24*7))+"周前":n<3600*24*365?Math.floor(n/(3600*24*30))+"月前":Math.floor(n/(3600*24*365))+"年前"}function $(l,r){const t=l.toString(),n=t.indexOf(".");if(n===-1)return Number(t);const o=t.substring(0,n+1+r);return Number(o)}function E(l,r={}){const{decimals:t=2,symbol:n="",useGrouping:o=!0}=r,s=Number(l);if(Number.isNaN(s))return"";const c=$(s,t),m=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:t,maximumFractionDigits:t,useGrouping:o}).format(c);return n?`${n}${m}`:m}const M={name:"SeeText"},R=e.defineComponent({...M,props:{text:{default:""},type:{default:"info"},mode:{default:"text"},color:{default:""},href:{default:""},phoneNumber:{default:""},date:{default:""},dateFormat:{default:"YYYY-MM-DD"}},emits:["onClick"],setup(l,{emit:r}){const t=l,n=r,o=e.computed(()=>t.color?"":t.type),s=e.computed(()=>({color:t.color})),c=()=>{n("onClick"),t.mode==="phone"&&(uni.makePhoneCall({phoneNumber:t.phoneNumber}),uni.showToast({title:"H5不支持，请使用小程序或APP点击",icon:"none"}))};return(a,m)=>(e.openBlock(),e.createElementBlock("view",{class:"see-text",onClick:c},[t.mode==="text"?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass(o.value),style:e.normalizeStyle(s.value)},e.toDisplayString(t.text),7)):e.createCommentVNode("",!0),t.mode==="link"?(e.openBlock(),e.createBlock(y,{key:1,text:t.text,type:t.type,href:t.href},null,8,["text","type","href"])):e.createCommentVNode("",!0),t.mode==="phone"?(e.openBlock(),e.createElementBlock("text",{key:2,class:e.normalizeClass(o.value),style:e.normalizeStyle(s.value)},e.toDisplayString(t.text),7)):e.createCommentVNode("",!0),t.mode==="price"?(e.openBlock(),e.createElementBlock("text",{key:3,class:e.normalizeClass(o.value),style:e.normalizeStyle(s.value)},e.toDisplayString(e.unref(E)(t.text)),7)):e.createCommentVNode("",!0),t.mode==="date"?(e.openBlock(),e.createElementBlock("text",{key:4,class:e.normalizeClass(o.value),style:e.normalizeStyle(s.value)},e.toDisplayString(e.unref(z)(t.date,t.dateFormat)),7)):e.createCommentVNode("",!0),t.mode==="timeago"?(e.openBlock(),e.createElementBlock("text",{key:5,class:e.normalizeClass(o.value),style:e.normalizeStyle(s.value)},e.toDisplayString(e.unref(N)(t.date)),7)):e.createCommentVNode("",!0)]))}}),k=h(R,[["__scopeId","data-v-070997d1"]]),Y={SeeButton:x,SeeText:k,SeeLink:y};p.SeeButton=x,p.SeeLink=y,p.SeeText=k,p.default=Y,Object.defineProperties(p,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
