"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),x=["hover-class","disabled"],k=t.defineComponent({__name:"index",props:{title:{default:""},size:{default:"normal"},type:{default:"info"},color:{default:""},textColor:{default:""},isRipple:{type:Boolean,default:!1},rippleTime:{default:500},maskTime:{default:1e3},isHollow:{type:Boolean,default:!1},rippleColor:{default:"rgba(0, 0, 0, .15)"},rippleStyle:{default:null},customStyle:{default:null},hoverClass:{default:""},border:{default:1},isDisabled:{type:Boolean,default:!1},radius:{default:4}},emits:["onTap"],setup(n,{emit:d}){let r=0;const u=t.getCurrentInstance(),e=n;r++;const f=t.ref(0),m=t.ref(0),c=t.ref(!1),a=t.ref({}),p="seeButton_"+r;let y=0;const b=t.ref([]),g=t.computed(()=>e.isRipple?"none":e.hoverClass?e.hoverClass:e.isHollow?`button-hover-${e.type}-hollow`:`button-hover-${e.type}`),h=o=>{c.value=!1,t.nextTick(()=>C(o))},C=o=>{S().then(l=>{if(!(l!=null&&l.height)||(l.finalWidth=l.height>l.width?l.height:l.width,!l.finalWidth))return;a.value=l;let i,s;i=o.changedTouches[0].clientX,s=o.changedTouches[0].clientY,i=o.detail.clientX,s=o.detail.clientY,i=o.touches[0].clientX,s=o.touches[0].clientY,f.value=s-l.top-l.finalWidth/2,m.value=i-l.left-l.finalWidth/2,t.nextTick(()=>c.value=!0),b.value.push({id:y++,x:i-l.left-l.finalWidth/2,y:s-l.top-l.finalWidth/2,size:l.finalWidth})})},S=()=>new Promise(o=>{const l=uni.createSelectorQuery().in(u),i="#"+p;l.select(i).boundingClientRect(s=>{o(s)}).exec()});return(o,l)=>(t.openBlock(),t.createElementBlock("view",{id:p,style:t.normalizeStyle({...e.customStyle,borderRadius:e.radius+"px"}),class:t.normalizeClass(["see-button",[e.size]]),onClick:l[1]||(l[1]=i=>h(i))},[t.createElementVNode("view",{id:p,style:t.normalizeStyle({...e.customStyle,borderRadius:e.radius+"px"}),class:t.normalizeClass(["see-button",[e.size]]),onTouchstart:l[0]||(l[0]=i=>h(i))},[t.createElementVNode("button",{style:t.normalizeStyle({...e.customStyle,borderRadius:e.radius+"px",background:e.color}),class:t.normalizeClass(["see-botton-class",[e.size,e.isDisabled&&`disabled-${e.type}`,e.isHollow?`hollow-${e.type}`:e.type,`border-${e.type}-${e.border??1}`]]),"hover-class":g.value,disabled:e.isDisabled},[t.createElementVNode("text",{style:t.normalizeStyle({color:e.textColor}),class:"title"},t.toDisplayString(e.title),5),t.renderSlot(o.$slots,"default",{},void 0,!0)],14,x),e.isRipple?(t.openBlock(),t.createElementBlock("view",{key:0,class:t.normalizeClass(["see-button-ripple",{active:c.value}]),style:t.normalizeStyle({...e.rippleStyle,top:f.value+"px",left:m.value+"px",width:a.value.finalWidth+"px",height:a.value.finalWidth+"px","background-color":n.rippleColor,"--ripple-time":e.rippleTime+"ms","--mask-time":e.maskTime+"ms"})},null,6)):t.createCommentVNode("",!0)],38)],6))}}),z=(n,d)=>{const r=n.__vccOpts||n;for(const[u,e]of d)r[u]=e;return r},v=z(k,[["__scopeId","data-v-2c11f93a"]]),T={SeeButton:v};exports.SeeButton=v;exports.default=T;
